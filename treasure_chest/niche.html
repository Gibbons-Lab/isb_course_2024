<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Taxa niche/production overlap</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vega@5.27.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.17.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.24.0"></script>

    <style>
    #vis {
        width: 100%;
        margin: 1em;
        display: block;
    }
    </style>
  </head>
  <body>
  <section class="section">
    <div class="container">
      <h1 class="title">
        Taxa niche/production overlap
      </h1>
      <p class="subtitle">
        Each point denotes the reduced  fluxes for a single taxon
        in a single sample. If two points are close to each other they consume
        (for direction="import") or produce (for direction="export") the same
        metabolites.<br>
        Hover over each point to see its annotations. You can click a point
        to select only that taxon. Click on an empty part of the plot to
        reset the selection.<br>
        Use the "..." menu in the
        upper right hand side to export the plot into various formats.
      </p>
    </div>
    <!-- Container for the visualization -->
    <div class="container">
    <div id="vis"></div>
    <a href="#" class="button is-primary" onclick="download_data('reduced')">Download as CSV...</a>

    </div>
    <script>
      // Assign the specification to a local variable vlSpec.
      var vlSpec = {
        $schema: "https://vega.github.io/schema/vega-lite/v5.json",
        width: 600,
        height: 500,
        data: {
            values: [{"sample_id":"ERR1513684","taxon":"g__Alistipes","TSNE 1":-19.0536079407,"TSNE 2":91.1553955078},{"sample_id":"ERR1513684","taxon":"g__Bacteroides","TSNE 1":51.5432548523,"TSNE 2":-67.9218673706},{"sample_id":"ERR1513684","taxon":"g__Blautia","TSNE 1":220.5198059082,"TSNE 2":5.2985029221},{"sample_id":"ERR1513684","taxon":"g__Faecalibacterium","TSNE 1":8.5502061844,"TSNE 2":-158.3680114746},{"sample_id":"ERR1513684","taxon":"g__Mediterraneibacter","TSNE 1":-87.9243545532,"TSNE 2":-66.8176574707},{"sample_id":"ERR1513684","taxon":"g__Parabacteroides","TSNE 1":2.1668970585,"TSNE 2":11.7039632797},{"sample_id":"ERR1513684","taxon":"g__Paraprevotella","TSNE 1":-19.6899051666,"TSNE 2":139.9288787842},{"sample_id":"ERR1513684","taxon":"g__Phocaeicola","TSNE 1":-161.2248382568,"TSNE 2":56.5170478821},{"sample_id":"ERR1513684","taxon":"g__Pseudomonas","TSNE 1":142.4524536133,"TSNE 2":-111.7140274048},{"sample_id":"ERR1513701","taxon":"g__Acidaminococcus","TSNE 1":-57.3463096619,"TSNE 2":183.3984527588},{"sample_id":"ERR1513701","taxon":"g__Akkermansia","TSNE 1":-16.0689964294,"TSNE 2":-49.9681243896},{"sample_id":"ERR1513701","taxon":"g__Alistipes","TSNE 1":34.1034660339,"TSNE 2":80.9153518677},{"sample_id":"ERR1513701","taxon":"g__Bacteroides","TSNE 1":-46.8831481934,"TSNE 2":67.6333847046},{"sample_id":"ERR1513701","taxon":"g__Bifidobacterium","TSNE 1":-926.616394043,"TSNE 2":-993.4263916016},{"sample_id":"ERR1513701","taxon":"g__Parabacteroides","TSNE 1":-243.625,"TSNE 2":-91.3620071411},{"sample_id":"ERR1513701","taxon":"g__Phascolarctobacterium","TSNE 1":-3057.6535644531,"TSNE 2":-600.7445068359},{"sample_id":"ERR1513701","taxon":"g__Phocaeicola","TSNE 1":-180.1508331299,"TSNE 2":107.5822525024},{"sample_id":"ERR1513703","taxon":"g__Bacteroides","TSNE 1":-188.2284240723,"TSNE 2":146.1442871094},{"sample_id":"ERR1513703","taxon":"g__Blautia","TSNE 1":191.5051116943,"TSNE 2":-6.5574083328},{"sample_id":"ERR1513703","taxon":"g__Clostridium","TSNE 1":264.7686462402,"TSNE 2":-61.7251625061},{"sample_id":"ERR1513703","taxon":"g__Cytobacillus","TSNE 1":-83.2352523804,"TSNE 2":-128.1155700684},{"sample_id":"ERR1513703","taxon":"g__Dialister","TSNE 1":-200.7677612305,"TSNE 2":-78.4095993042},{"sample_id":"ERR1513703","taxon":"g__Dysgonomonas","TSNE 1":-141.8412780762,"TSNE 2":104.2232055664},{"sample_id":"ERR1513703","taxon":"g__Enterocloster","TSNE 1":-158.3706970215,"TSNE 2":-120.579246521},{"sample_id":"ERR1513703","taxon":"g__Faecalibacterium","TSNE 1":-131.1717834473,"TSNE 2":209.2720489502},{"sample_id":"ERR1513703","taxon":"g__Flavonifractor","TSNE 1":-58.2795372009,"TSNE 2":34.657623291},{"sample_id":"ERR1513703","taxon":"g__Paenibacillus","TSNE 1":132.2657623291,"TSNE 2":-128.2546691895},{"sample_id":"ERR1513777","taxon":"g__Akkermansia","TSNE 1":-2.9528536797,"TSNE 2":-52.9709510803},{"sample_id":"ERR1513777","taxon":"g__Alistipes","TSNE 1":-2.6230471134,"TSNE 2":64.1723022461},{"sample_id":"ERR1513777","taxon":"g__Bacteroides","TSNE 1":9.7364168167,"TSNE 2":256.1969604492},{"sample_id":"ERR1513777","taxon":"g__Blautia","TSNE 1":251.6293945312,"TSNE 2":26.0910434723},{"sample_id":"ERR1513777","taxon":"g__Butyrivibrio","TSNE 1":-42.476020813,"TSNE 2":48.2748031616},{"sample_id":"ERR1513777","taxon":"g__Erysipelatoclostridium","TSNE 1":103.2664108276,"TSNE 2":-199.7199859619},{"sample_id":"ERR1513777","taxon":"g__Faecalibacterium","TSNE 1":17.8945159912,"TSNE 2":-104.1593170166},{"sample_id":"ERR1513777","taxon":"g__Lachnospira","TSNE 1":-208.2163696289,"TSNE 2":71.3969726562},{"sample_id":"ERR1513777","taxon":"g__Odoribacter","TSNE 1":-17.4680194855,"TSNE 2":158.5402374268},{"sample_id":"ERR1513777","taxon":"g__Parabacteroides","TSNE 1":1524.8341064453,"TSNE 2":17.7805461884},{"sample_id":"ERR1513777","taxon":"g__Phascolarctobacterium","TSNE 1":-143.2864379883,"TSNE 2":-15.6356611252},{"sample_id":"ERR1513777","taxon":"g__Phocaeicola","TSNE 1":-161.3147583008,"TSNE 2":40.1356582642},{"sample_id":"ERR1513870","taxon":"g__Alistipes","TSNE 1":-145.7577972412,"TSNE 2":-86.6434402466},{"sample_id":"ERR1513870","taxon":"g__Bacteroides","TSNE 1":-203.9989013672,"TSNE 2":160.8360595703},{"sample_id":"ERR1513870","taxon":"g__Barnesiella","TSNE 1":-62.4886474609,"TSNE 2":101.109161377},{"sample_id":"ERR1513870","taxon":"g__Bifidobacterium","TSNE 1":-423.092590332,"TSNE 2":-575.2438964844},{"sample_id":"ERR1513870","taxon":"g__Blautia","TSNE 1":220.1237640381,"TSNE 2":21.8697185516},{"sample_id":"ERR1513870","taxon":"g__Clostridium","TSNE 1":281.0344543457,"TSNE 2":-69.1959457397},{"sample_id":"ERR1513870","taxon":"g__Faecalibacterium","TSNE 1":29.1960353851,"TSNE 2":-157.5833587646},{"sample_id":"ERR1513870","taxon":"g__Holdemanella","TSNE 1":22.2003612518,"TSNE 2":-89.9531402588},{"sample_id":"ERR1513870","taxon":"g__Lachnospira","TSNE 1":-72.7646789551,"TSNE 2":58.9864120483},{"sample_id":"ERR1513870","taxon":"g__Lactobacillus","TSNE 1":-193.1925506592,"TSNE 2":-11.2718477249},{"sample_id":"ERR1513870","taxon":"g__Parabacteroides","TSNE 1":-68.3204345703,"TSNE 2":-9.9689826965},{"sample_id":"ERR1513870","taxon":"g__Phocaeicola","TSNE 1":-154.6331329346,"TSNE 2":25.0956783295},{"sample_id":"ERR1513870","taxon":"g__Roseburia","TSNE 1":-35.7998504639,"TSNE 2":35.7143135071},{"sample_id":"ERR1513870","taxon":"g__Ruminococcus","TSNE 1":224.2283935547,"TSNE 2":-31.1716213226},{"sample_id":"ERR1513870","taxon":"g__Sutterella","TSNE 1":-98.5095062256,"TSNE 2":92.0376052856},{"sample_id":"ERR1513889","taxon":"g__Akkermansia","TSNE 1":-13.380812645,"TSNE 2":-37.0267562866},{"sample_id":"ERR1513889","taxon":"g__Alistipes","TSNE 1":17.4772911072,"TSNE 2":73.421005249},{"sample_id":"ERR1513889","taxon":"g__Bacteroides","TSNE 1":-223.6276092529,"TSNE 2":184.2694244385},{"sample_id":"ERR1513889","taxon":"g__Barnesiella","TSNE 1":-65.8971710205,"TSNE 2":112.1123428345},{"sample_id":"ERR1513889","taxon":"g__Bifidobacterium","TSNE 1":1073.0596923828,"TSNE 2":-63.8431015015},{"sample_id":"ERR1513889","taxon":"g__Blautia","TSNE 1":240.9452209473,"TSNE 2":17.2917613983},{"sample_id":"ERR1513889","taxon":"g__Dialister","TSNE 1":-192.6247711182,"TSNE 2":-86.2148971558},{"sample_id":"ERR1513889","taxon":"g__Faecalibacterium","TSNE 1":3.9074308872,"TSNE 2":-171.7676391602},{"sample_id":"ERR1513889","taxon":"g__Flavonifractor","TSNE 1":-92.0560913086,"TSNE 2":-106.3870773315},{"sample_id":"ERR1513889","taxon":"g__Lachnoclostridium","TSNE 1":194.1940612793,"TSNE 2":31.7326087952},{"sample_id":"ERR1513889","taxon":"g__Lactobacillus","TSNE 1":98.5879669189,"TSNE 2":0.8812482953},{"sample_id":"ERR1513889","taxon":"g__Parabacteroides","TSNE 1":-17.6110267639,"TSNE 2":-89.7365264893},{"sample_id":"ERR1513889","taxon":"g__Parasutterella","TSNE 1":-114.1596679688,"TSNE 2":98.6868362427},{"sample_id":"ERR1513889","taxon":"g__Phocaeicola","TSNE 1":-167.4349365234,"TSNE 2":118.1901092529},{"sample_id":"ERR1513889","taxon":"g__Roseburia","TSNE 1":-74.2995071411,"TSNE 2":-78.9529190063},{"sample_id":"ERR1513889","taxon":"g__Ruminococcus","TSNE 1":205.1577911377,"TSNE 2":-61.4965515137},{"sample_id":"ERR1513961","taxon":"g__Akkermansia","TSNE 1":-14.1456975937,"TSNE 2":-69.6749038696},{"sample_id":"ERR1513961","taxon":"g__Alistipes","TSNE 1":-150.8852539062,"TSNE 2":-103.3136901855},{"sample_id":"ERR1513961","taxon":"g__Bacteroides","TSNE 1":-215.1016235352,"TSNE 2":173.856048584},{"sample_id":"ERR1513961","taxon":"g__Blautia","TSNE 1":207.8736877441,"TSNE 2":2.4447813034},{"sample_id":"ERR1513961","taxon":"g__Dialister","TSNE 1":-140.1427154541,"TSNE 2":-36.3838157654},{"sample_id":"ERR1513961","taxon":"g__Dorea","TSNE 1":-100.5945510864,"TSNE 2":46.4780082703},{"sample_id":"ERR1513961","taxon":"g__Erysipelatoclostridium","TSNE 1":98.487487793,"TSNE 2":-210.0986480713},{"sample_id":"ERR1513961","taxon":"g__Faecalibacterium","TSNE 1":8.9353790283,"TSNE 2":-184.3872528076},{"sample_id":"ERR1513961","taxon":"g__Lachnoclostridium","TSNE 1":48.0800971985,"TSNE 2":-157.7742156982},{"sample_id":"ERR1513961","taxon":"g__Mediterraneibacter","TSNE 1":-104.6500473022,"TSNE 2":-92.5757293701},{"sample_id":"ERR1513961","taxon":"g__Phocaeicola","TSNE 1":-136.0145263672,"TSNE 2":89.2481079102},{"sample_id":"ERR1513961","taxon":"g__Ruminococcus","TSNE 1":197.3352813721,"TSNE 2":-52.7922401428},{"sample_id":"ERR1513964","taxon":"g__Alistipes","TSNE 1":2.8002254963,"TSNE 2":162.4449310303},{"sample_id":"ERR1513964","taxon":"g__Bacteroides","TSNE 1":61.0051345825,"TSNE 2":-51.0355453491},{"sample_id":"ERR1513964","taxon":"g__Blautia","TSNE 1":223.791229248,"TSNE 2":-11.1477775574},{"sample_id":"ERR1513964","taxon":"g__Butyrivibrio","TSNE 1":-23.2748260498,"TSNE 2":53.7484092712},{"sample_id":"ERR1513964","taxon":"g__Clostridium","TSNE 1":269.9401550293,"TSNE 2":-80.7558822632},{"sample_id":"ERR1513964","taxon":"g__Coprococcus","TSNE 1":312.2484741211,"TSNE 2":-109.5919113159},{"sample_id":"ERR1513964","taxon":"g__Faecalibacterium","TSNE 1":-18.4591712952,"TSNE 2":-148.794921875},{"sample_id":"ERR1513964","taxon":"g__Parabacteroides","TSNE 1":-58.7521781921,"TSNE 2":-16.6683368683},{"sample_id":"ERR1513964","taxon":"g__Phocaeicola","TSNE 1":-129.6888122559,"TSNE 2":70.0341186523},{"sample_id":"ERR1513964","taxon":"g__Pseudomonas","TSNE 1":159.9371032715,"TSNE 2":-112.2952880859},{"sample_id":"ERR1513964","taxon":"g__Roseburia","TSNE 1":-77.2943115234,"TSNE 2":-98.2525787354},{"sample_id":"ERR1513983","taxon":"g__Acinetobacter","TSNE 1":114.1144561768,"TSNE 2":-7.0691285133},{"sample_id":"ERR1513983","taxon":"g__Bacteroides","TSNE 1":33.8571014404,"TSNE 2":14.0595474243},{"sample_id":"ERR1513983","taxon":"g__Blautia","TSNE 1":-268.667175293,"TSNE 2":0.202348128},{"sample_id":"ERR1513983","taxon":"g__Clostridium","TSNE 1":270.2090454102,"TSNE 2":-97.4758529663},{"sample_id":"ERR1513983","taxon":"g__Coprococcus","TSNE 1":98.6782531738,"TSNE 2":199.6681976318},{"sample_id":"ERR1513983","taxon":"g__Eubacterium","TSNE 1":125.0520629883,"TSNE 2":-144.6094055176},{"sample_id":"ERR1513983","taxon":"g__Faecalibacterium","TSNE 1":9.4223670959,"TSNE 2":-142.6378173828},{"sample_id":"ERR1513983","taxon":"g__Paraprevotella","TSNE 1":-68.4036407471,"TSNE 2":129.4934844971},{"sample_id":"ERR1513983","taxon":"g__Phocaeicola","TSNE 1":16.6402378082,"TSNE 2":11.9296035767},{"sample_id":"ERR1513983","taxon":"g__Prevotella","TSNE 1":-170.5364685059,"TSNE 2":135.2045593262},{"sample_id":"ERR1513983","taxon":"g__Pseudomonas","TSNE 1":137.6613769531,"TSNE 2":-99.6958999634},{"sample_id":"ERR1513983","taxon":"g__Roseburia","TSNE 1":-58.6217575073,"TSNE 2":-69.393409729},{"sample_id":"ERR1514003","taxon":"g__Acinetobacter","TSNE 1":-156.0127410889,"TSNE 2":147.5002441406},{"sample_id":"ERR1514003","taxon":"g__Bacteroides","TSNE 1":68.7161941528,"TSNE 2":-68.3182373047},{"sample_id":"ERR1514003","taxon":"g__Delftia","TSNE 1":-81.7418746948,"TSNE 2":-145.4052734375},{"sample_id":"ERR1514003","taxon":"g__Dialister","TSNE 1":-154.1703643799,"TSNE 2":84.8988647461},{"sample_id":"ERR1514003","taxon":"g__Faecalibacterium","TSNE 1":-14.4395647049,"TSNE 2":-163.9720611572},{"sample_id":"ERR1514003","taxon":"g__Parabacteroides","TSNE 1":-12.5548839569,"TSNE 2":3.1777257919},{"sample_id":"ERR1514003","taxon":"g__Phocaeicola","TSNE 1":-256.0476074219,"TSNE 2":-80.7220077515},{"sample_id":"ERR1514003","taxon":"g__Pseudomonas","TSNE 1":135.9465026855,"TSNE 2":-84.5447921753},{"sample_id":"ERR1514003","taxon":"g__Sphingobacterium","TSNE 1":-105.842010498,"TSNE 2":120.2893218994},{"sample_id":"ERR1514003","taxon":"g__Stenotrophomonas","TSNE 1":-42.9602050781,"TSNE 2":193.1861572266}]
        },
        selection: {"pts": {"type": "single", "fields": ["taxon"]}},
        mark: {
            type: "point",
            filled: true,
            size: 20,
            tooltip: {content: "data"}
        },
        encoding: {
          x: {
            field: "TSNE 1",
            type: "quantitative",
            scale: {zero: false}
          },
          y: {
            field: "TSNE 2",
            type: "quantitative",
            scale: {zero: false}
          },
          color: {
            condition: {
              selection: "pts",
              field: "taxon",
              type: "nominal"
            },
            value: "lightgrey"
          },
          opacity: {
              condition: {
                  selection: "pts",
                  value: 0.8
              },
              value: 0.2
          }
        }
      };

      // Embed the visualization in the container with id `vis`
      vegaEmbed("#vis", vlSpec, {renderer: "svg"}).then(function(r) {
        svg = document.querySelector("#vis svg");
        svg.setAttribute("width", "100%");
        svg.setAttribute("height", "auto");
      });

      files = {'reduced': 'sample_id,taxon,TSNE 1,TSNE 2\nERR1513684,g__Alistipes,-19.053608,91.155396\nERR1513684,g__Bacteroides,51.543255,-67.92187\nERR1513684,g__Blautia,220.5198,5.298503\nERR1513684,g__Faecalibacterium,8.550206,-158.36801\nERR1513684,g__Mediterraneibacter,-87.924355,-66.81766\nERR1513684,g__Parabacteroides,2.166897,11.703963\nERR1513684,g__Paraprevotella,-19.689905,139.92888\nERR1513684,g__Phocaeicola,-161.22484,56.517048\nERR1513684,g__Pseudomonas,142.45245,-111.71403\nERR1513701,g__Acidaminococcus,-57.34631,183.39845\nERR1513701,g__Akkermansia,-16.068996,-49.968124\nERR1513701,g__Alistipes,34.103466,80.91535\nERR1513701,g__Bacteroides,-46.88315,67.633385\nERR1513701,g__Bifidobacterium,-926.6164,-993.4264\nERR1513701,g__Parabacteroides,-243.625,-91.36201\nERR1513701,g__Phascolarctobacterium,-3057.6536,-600.7445\nERR1513701,g__Phocaeicola,-180.15083,107.58225\nERR1513703,g__Bacteroides,-188.22842,146.14429\nERR1513703,g__Blautia,191.50511,-6.5574083\nERR1513703,g__Clostridium,264.76865,-61.725163\nERR1513703,g__Cytobacillus,-83.23525,-128.11557\nERR1513703,g__Dialister,-200.76776,-78.4096\nERR1513703,g__Dysgonomonas,-141.84128,104.223206\nERR1513703,g__Enterocloster,-158.3707,-120.57925\nERR1513703,g__Faecalibacterium,-131.17178,209.27205\nERR1513703,g__Flavonifractor,-58.279537,34.657623\nERR1513703,g__Paenibacillus,132.26576,-128.25467\nERR1513777,g__Akkermansia,-2.9528537,-52.97095\nERR1513777,g__Alistipes,-2.623047,64.1723\nERR1513777,g__Bacteroides,9.736417,256.19696\nERR1513777,g__Blautia,251.6294,26.091043\nERR1513777,g__Butyrivibrio,-42.47602,48.274803\nERR1513777,g__Erysipelatoclostridium,103.26641,-199.71999\nERR1513777,g__Faecalibacterium,17.894516,-104.15932\nERR1513777,g__Lachnospira,-208.21637,71.39697\nERR1513777,g__Odoribacter,-17.46802,158.54024\nERR1513777,g__Parabacteroides,1524.8341,17.780546\nERR1513777,g__Phascolarctobacterium,-143.28644,-15.635661\nERR1513777,g__Phocaeicola,-161.31476,40.13566\nERR1513870,g__Alistipes,-145.7578,-86.64344\nERR1513870,g__Bacteroides,-203.9989,160.83606\nERR1513870,g__Barnesiella,-62.488647,101.10916\nERR1513870,g__Bifidobacterium,-423.0926,-575.2439\nERR1513870,g__Blautia,220.12376,21.869719\nERR1513870,g__Clostridium,281.03445,-69.195946\nERR1513870,g__Faecalibacterium,29.196035,-157.58336\nERR1513870,g__Holdemanella,22.200361,-89.95314\nERR1513870,g__Lachnospira,-72.76468,58.986412\nERR1513870,g__Lactobacillus,-193.19255,-11.271848\nERR1513870,g__Parabacteroides,-68.320435,-9.968983\nERR1513870,g__Phocaeicola,-154.63313,25.095678\nERR1513870,g__Roseburia,-35.79985,35.714314\nERR1513870,g__Ruminococcus,224.2284,-31.171621\nERR1513870,g__Sutterella,-98.50951,92.037605\nERR1513889,g__Akkermansia,-13.380813,-37.026756\nERR1513889,g__Alistipes,17.477291,73.421005\nERR1513889,g__Bacteroides,-223.62761,184.26942\nERR1513889,g__Barnesiella,-65.89717,112.11234\nERR1513889,g__Bifidobacterium,1073.0597,-63.8431\nERR1513889,g__Blautia,240.94522,17.291761\nERR1513889,g__Dialister,-192.62477,-86.2149\nERR1513889,g__Faecalibacterium,3.907431,-171.76764\nERR1513889,g__Flavonifractor,-92.05609,-106.38708\nERR1513889,g__Lachnoclostridium,194.19406,31.732609\nERR1513889,g__Lactobacillus,98.58797,0.8812483\nERR1513889,g__Parabacteroides,-17.611027,-89.73653\nERR1513889,g__Parasutterella,-114.15967,98.68684\nERR1513889,g__Phocaeicola,-167.43494,118.19011\nERR1513889,g__Roseburia,-74.29951,-78.95292\nERR1513889,g__Ruminococcus,205.15779,-61.49655\nERR1513961,g__Akkermansia,-14.145698,-69.674904\nERR1513961,g__Alistipes,-150.88525,-103.31369\nERR1513961,g__Bacteroides,-215.10162,173.85605\nERR1513961,g__Blautia,207.87369,2.4447813\nERR1513961,g__Dialister,-140.14272,-36.383816\nERR1513961,g__Dorea,-100.59455,46.47801\nERR1513961,g__Erysipelatoclostridium,98.48749,-210.09865\nERR1513961,g__Faecalibacterium,8.935379,-184.38725\nERR1513961,g__Lachnoclostridium,48.080097,-157.77422\nERR1513961,g__Mediterraneibacter,-104.65005,-92.57573\nERR1513961,g__Phocaeicola,-136.01453,89.24811\nERR1513961,g__Ruminococcus,197.33528,-52.79224\nERR1513964,g__Alistipes,2.8002255,162.44493\nERR1513964,g__Bacteroides,61.005135,-51.035545\nERR1513964,g__Blautia,223.79123,-11.147778\nERR1513964,g__Butyrivibrio,-23.274826,53.74841\nERR1513964,g__Clostridium,269.94016,-80.75588\nERR1513964,g__Coprococcus,312.24847,-109.59191\nERR1513964,g__Faecalibacterium,-18.459171,-148.79492\nERR1513964,g__Parabacteroides,-58.75218,-16.668337\nERR1513964,g__Phocaeicola,-129.68881,70.03412\nERR1513964,g__Pseudomonas,159.9371,-112.29529\nERR1513964,g__Roseburia,-77.29431,-98.25258\nERR1513983,g__Acinetobacter,114.114456,-7.0691285\nERR1513983,g__Bacteroides,33.8571,14.059547\nERR1513983,g__Blautia,-268.66718,0.20234813\nERR1513983,g__Clostridium,270.20905,-97.47585\nERR1513983,g__Coprococcus,98.67825,199.6682\nERR1513983,g__Eubacterium,125.05206,-144.6094\nERR1513983,g__Faecalibacterium,9.422367,-142.63782\nERR1513983,g__Paraprevotella,-68.40364,129.49348\nERR1513983,g__Phocaeicola,16.640238,11.929604\nERR1513983,g__Prevotella,-170.53647,135.20456\nERR1513983,g__Pseudomonas,137.66138,-99.6959\nERR1513983,g__Roseburia,-58.621758,-69.39341\nERR1514003,g__Acinetobacter,-156.01274,147.50024\nERR1514003,g__Bacteroides,68.716194,-68.31824\nERR1514003,g__Delftia,-81.741875,-145.40527\nERR1514003,g__Dialister,-154.17036,84.898865\nERR1514003,g__Faecalibacterium,-14.439565,-163.97206\nERR1514003,g__Parabacteroides,-12.554884,3.1777258\nERR1514003,g__Phocaeicola,-256.0476,-80.72201\nERR1514003,g__Pseudomonas,135.9465,-84.54479\nERR1514003,g__Sphingobacterium,-105.84201,120.28932\nERR1514003,g__Stenotrophomonas,-42.960205,193.18616\n'};

function download_data(key) {
    var blob = new Blob([files[key]], {type: "text/csv;charset=utf-8;"}),
        filename = key + ".csv",
        url = window.URL.createObjectURL(blob);
    if (navigator.msSaveBlob) { // IE 10+
        navigator.msSaveBlob(blob, filename);
    } else {
        var link = document.createElement("a");
        if (link.download !== undefined) { // feature detection
            // Browsers that support HTML5 download attribute
            var url = URL.createObjectURL(blob);
            link.setAttribute("href", url);
            link.setAttribute("download", filename);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    }
}
    </script>
  </section>
  </body>
</html>